<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {% seo title=false %}

  <title>
    {% if page.tag or page.title %} {% if page.tag %} {{ page.tag | escape }} {%
    else %} {{ page.title | escape }} {% endif %} - {% endif %} {% if paginator
    and paginator.page and paginator.total_pages > 1 and paginator.page > 1 %}
    Page {{ paginator.page }} of {{ paginator.total_pages }} - {% endif %} {{
    site.title | escape }} {% unless page.tag or page.title %} - {{
    site.description | escape }} {% endunless %}
  </title>

  <link rel="shortcut icon" href="{{ site.baseurl }}/favicon.png" />
  <link
    rel="alternate"
    type="application/atom+xml"
    title="{{ site.title }}"
    href="{{ site.baseurl }}/atom.xml"
  />
  <link rel="alternate" type="application/json" title="{{ site.title }}"
  href="{{ "/feed.json" | prepend: site.baseurl | prepend: site.url }}" />
  <link
    rel="sitemap"
    type="application/xml"
    title="sitemap"
    href="{{ site.baseurl }}/sitemap.xml"
  />
  <link
    href="https://cdn.jsdelivr.net/gh/wan2land/d2coding/d2coding-full.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/assets/css/syntax.css" />

  <style>
    {% capture include_to_scssify %}
      {% include inline.scss %}
    {% endcapture %}
    {{ include_to_scssify | scssify }}
  </style>

  <script type="text/javascript">
    function setTheme(theme) {
      if (theme === "dark") {
        document.documentElement.setAttribute("data-theme", "dark");
        window.localStorage.setItem("theme", "dark");
        if (document.getElementById("theme-toggle") != null) {
          document.getElementById("theme-toggle").classList.add("sun");
          document.getElementById("theme-toggle").classList.remove("moon");
        }
      } else {
        document.documentElement.setAttribute("data-theme", "light");
        window.localStorage.setItem("theme", "light");
        if (document.getElementById("theme-toggle") != null) {
          document.getElementById("theme-toggle").classList.add("moon");
          document.getElementById("theme-toggle").classList.remove("sun");
        }
      }
    }

    let theme = localStorage.getItem("theme");

    theme =
      theme ||
      (window.matchMedia
        ? window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light"
        : "light");

    setTheme(theme);

    function modeSwitcher() {
      let currentMode = document.documentElement.getAttribute("data-theme");

      if (currentMode === "dark") {
        setTheme("light");
      } else {
        setTheme("dark");
      }
    }

    function backButton() {
      if (document.referrer) {
        if (window.history.length <= 1) {
          window.location.href = "{{site.url}}/";
        } else {
          window.history.back();
        }
      } else {
        console.log("{{site.url}}/");
        window.location.href = "{{site.url}}/";
      }
    }
  </script>
</head>
